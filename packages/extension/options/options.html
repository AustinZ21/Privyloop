<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PrivyLoop Options</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; background: #0b0f12; color: #e5e7eb; margin: 0; }
      .container { max-width: 720px; margin: 40px auto; padding: 24px; background: #11171b; border: 1px solid #233037; border-radius: 8px; }
      h1 { margin: 0 0 12px; font-size: 20px; }
      p { margin: 8px 0 16px; color: #9aa4ad; }
      .row { display: flex; align-items: center; justify-content: space-between; padding: 12px 0; border-top: 1px solid #1a2329; }
      .row:first-of-type { border-top: 0; }
      label { color: #cfd6db; }
      input[type="checkbox"] { transform: scale(1.2); }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>PrivyLoop Extension Options</h1>
      <p>Basic preferences for your local browser. These do not affect server settings.</p>

      <div class="row">
        <label for="opt-notify">Enable notifications</label>
        <input id="opt-notify" type="checkbox" />
      </div>

      <div class="row">
        <label for="opt-autoscan">Enable auto-scan on supported pages</label>
        <input id="opt-autoscan" type="checkbox" />
      </div>
    </div>

    <script>
      // Minimal persistent options using chrome.storage
      const notify = document.getElementById('opt-notify');
      const autoscan = document.getElementById('opt-autoscan');

      function load() {
        try {
          chrome.storage?.sync?.get(['opt_notify', 'opt_autoscan'], (data) => {
            notify.checked = Boolean(data.opt_notify);
            autoscan.checked = Boolean(data.opt_autoscan);
          });
        } catch (_) {}
      }

      function save() {
        try {
          chrome.storage?.sync?.set({
            opt_notify: notify.checked,
            opt_autoscan: autoscan.checked,
          });
        } catch (_) {}
      }

      notify.addEventListener('change', save);
      autoscan.addEventListener('change', save);
      load();
    </script>
  </body>
  </html>

